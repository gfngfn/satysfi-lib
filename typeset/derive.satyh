@require: option
@import: derive/ast
@import: derive/render

type derive-config = (|
    default-label-position : label-position;
    bar-top-bottom-margin : length;
    label-left-right-margin : length;
    bar-thickness : length;
|)

module Derive : sig

    val \proven : [derive-config?; derivation-ast] math-cmd

end = struct

    open DeriveRender

    let-math \proven ?:config ast = render-math (config |> Option.from default-config) ast

end